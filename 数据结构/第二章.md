# 第二章 线性表



## 线性表

- **线性表**是具有**相同**数据类型的n（n≧0）个数据元素的**有限**序列，其中n为表长，当n=0时线性表是一个空表。若用L命名线性表，则其一般表示为L=（α₁,α₂...,α(n)）。

- α(i)是线性表中的“第i个”元素，i是线性表中的**位序**。（注：位序从1开始，数组下标从0开始）
- α₁是表头元素；α(n)是表尾元素。
- 除第一个元素外，每个元素有且仅有一个**直接前驱**；除最后一个元素外，每个元素有且仅有一个**直接后继**。

- 线性表的基本操作：

  **InitList(&L):初始化表**。构造一个空的线性表L，分配内存空间。

  **DestroyList(&L):销毁操作**。销毁线性表，并释放线性表L所占用的内存空间。

  **ListInsert(&L,i,e):插入操作**。在表L中的第i个位置上插入指定元素e。

  **ListDelete(&L,i,&e):删除操作**

  **LocateElem(L,e):按值查找操作**

  **GetElem(L,i):按位查找操作**。时间复杂度是O(1)。



## 顺序表

- **顺序表**——用**顺序存储**的方式实现线性表（逻辑上相邻的元素存储在物理位置上也相邻的存储单元中）。

  优点：可随机存取，存储密度高。

  缺点：要求大片连续空间，改变容量不方便。

- 顺序表的实现：

  **静态分配**（使用“静态数组”实现，表长刚开始确定后就无法更改，存储空间是静态的）

  **动态分配**（可用malloc动态拓展顺序表的最大容量，需要将数据元素复制到新的存储区域，并用free函数释放原区域）

- 顺序表的特点：

  **随机访问**，即可在O(1)时间内找到第i个元素。

  存储密度高，每个节点只存储数据元素。

  拓展容量不方便（即便采用动态分配的方式，拓展长度的时间复杂度也比较高）

  插入、删除操作不方便，需要移动大量元素。



## 链表

- **单链表**——用链式存储的方式实现（每个节点除了存放数据元素外，还要存储指向下一个节点的指针）。

  ​					表尾节点的next指针指向NULL。

  优点：不要求大片连续空间，改变容量方便。

  缺点：不可随机存取，要耗费一定空间存放指针。

  ​			无法逆向检索，有时候不太方便。

  两种实现：

  ​		1.不带头节点（空表判断：`L==NULL`写代码不方便）

  ​		2.带头节点（空表判断：`L->next==NULL`写代码更方便）

  单链表的建立：

  ​		头插法、尾插法：核心就是初始化操作、指定节点的后插操作。

  ​		（头插法的重要应用：链表的逆置）

- **双链表**——（用法同上）。

  ​					表头节点的prior指向NULL，表尾节点的next指向NULL。

  对比单链表：可进可退，存储密度更低一丢丢。

- **循环链表**

  循环单链表——表尾节点的next指针指向头节点。（空表判断：L->next==L）

  循环双链表——表头节点的prior指向表尾节点；表尾节点的next指向头节点。（空表判断：L->next==L）

- **静态链表**——分配一整片连续的内存空间，各个节点集中安置。

  ​						0号节点充当“头节点”。

  ​						**游标**充当指针（下一个节点的数组下标）。

  ​						游标为**-1**表示已经到达表尾。

  优点：增、删操作不需要大量移动元素，只需改动相应元素的游标即可。

  缺点：不能随机存取，只能从头节点开始依次往后查找，且容量固定不可变。

  定义方式：可用结构体数组定义一片连续存放的区域。

  适用场景：1.不支持指针的低级语言。

  ​					2.数据元素量固定不变的场景（如操作系统的文件分配表FAT）。

  

## 顺序表与链表的比较

|          | 顺序表                                                       | 链表                                                         |
| :------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 逻辑结构 | 都属于线性表，都是线性结构。                                 | （同上）                                                     |
| 存储结构 | 优点：支持随机存取、存储密度高<br />缺点：大片连续空间分配不方便，改变容量不方便 | 优点：离散的小空间分配方便，改变容量方便<br />缺点：不可随机存取，存储密度低 |
| 基本操作 | **创**：需要预分配大片连续空间。若分配空间过小，则之后不方便拓展容量；若分配空间过大，则浪费内存资源。<br />（静态分配：静态数组，容量不可改变。<br /> 动态分配：动态数组，容量可改变，但需要移动大量元素，时间代价高。）<br />**销**：修改Length=0。<br />（静态分配：静态数组，系统自动回收空间。<br />动态分配：动态数组，需要手动free。）<br />**增/删**：插入/删除元素要将后续元素都后移/前移，时间复杂度O(n)，时间开销主要来自移动元素。（若数据元素很大，则移动的时间代价很高）<br />**查**：按位查找：O(1)<br />按值查找：O(n) ，若表内元素有序，可在O(㏒₂n)时间内找到。 | **创**：只需分配一个头节点（也可以不要头节点，只声明一个头指针），之后方便拓展。<br />**销**：依次删除各个节点（free）。<br />**增/删**：插入/删除元素只需修改指针即可，时间复杂度O(n)，时间开销主要来查找目标元素。（查找元素的时间代价更低）<br />**查**：按位查找：O(n)<br />按值查找：O(n) |